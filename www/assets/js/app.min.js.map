{"version":3,"sources":["../src/js/reset.js","../src/js/config.js","../src/js/utils.js","../src/js/utils/animation.js","../src/js/utils/blockMobileScroll.js","../src/js/utils/classDelayed.js","../src/js/utils/detectMobile.js","../src/js/utils/error.js","../src/js/utils/event.js","../src/js/utils/getParameter.js","../src/js/utils/jquery.clicktouch.js","../src/js/utils/jquery.swipe.js","../src/js/utils/math.js","../src/js/utils/preload.js","../src/js/utils/respond.js","../src/js/utils/scrollbarWidth.js","../src/js/utils/share.js","../src/js/utils/transform.js","../src/js/utils/validation.js","../src/js/view/PopUp.js","../src/js/view/SlotAvtomat.js","../src/js/view/SlotsController.js","../src/js/view/SwitchButton.js","../src/js/app.js"],"names":["method","methods","length","console","window","app","config","state","$document","$","document","$window","$html","$body","utils","animateBody","top","animate","scrollTop","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","setTimeout","initBlockMobileScroll","on","e","hasClass","preventDefault","currentTarget","scrollHeight","offsetHeight","this","innerHeight","stopPropagation","jQuery","fn","extend","addClassDelayed","className","delay","$el","addClass","removeClassDelayed","removeClass","detectMobile","Windows","test","navigator","userAgent","Android","BlackBerry","iOS","any","serverErrorText","serverError","alert","event","category","action","label","value","ga","toString","clickEvent","click","getParameter","name","replace","results","RegExp","exec","location","search","decodeURIComponent","onTouchStartHandler","isTap","off","clicktouch","func","css","proxy","swipe","leftHandler","rightHandler","xDown","yDown","swiped","originalEvent","touches","clientX","clientY","xUp","changedTouches","yUp","xDiff","yDiff","Math","abs","declineNumeral","number","titles","cases","Number","prototype","mod","n","leadingZeros","num","size","s","linear","min","max","k","formatNumber","val","thSep","dcSep","res","lZero","fLen","lastIndexOf","tmpRes","substring","cnt","ind","charAt","bezier","x1","y1","x2","y2","epsilon","curveX","t","v","curveY","derivativeCurveX","t0","t1","t2","d2","i","x","preload","arrayOfImages","images","_","each","url","image","Image","push","onload","src","isMobile","width","getScrollbarWidth","scrollDiv","createElement","body","appendChild","scrollbarWidth","offsetWidth","clientWidth","removeChild","share","service","title","link","encodeURIComponent","openPopup","left","screen","height","open","focus","setCoords","target","y","setTransform","setScale","scale","transform","removeScale","isValidEmail","email","isValidName","isValidPhone","phone","PopUp","initialize","$items","$popup","$close","bind","storyClick","closeClick","SlotAvtomat","$grip","$bulbs","$message","isBlinking","solotsController","SlotsController","clickGrip","html","blinkingLights","runSlots","that","stopSlots","checkResult","bulb","isWin","setInterval","append","slotArray","$slots","isRun","initSlots","template","slot","addElementInSlot","slotItem","$slot","$next","find","$active","$last","type","run","log","playSlots","randomtime","slotSlick","elem","last","clone","prepend","remove","overridingSlotElements","checkClass","flag","rand","random","round","data","item","imageName","filter","typeImage","SwitchButton","$switchButton","$info","toggleClass"],"mappings":"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","file":"app.min.js","sourcesContent":["(function() {\r\n    var method;\r\n    var noop = function () {};\r\n    var methods = [\r\n        'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',\r\n        'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',\r\n        'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',\r\n        'timeStamp', 'trace', 'warn'\r\n    ];\r\n    var length = methods.length;\r\n    var console = (window.console = window.console || {});\r\n\r\n    while (length--) {\r\n        method = methods[length];\r\n\r\n        // Only stub undefined methods.\r\n        if (!console[method]) {\r\n            console[method] = noop;\r\n        }\r\n    }\r\n}());","var app = app || {};\r\n\r\napp.config = {};\r\n\r\napp.state = {};\r\n\r\n//Selectors\r\napp.$document = $(document);\r\napp.$window = $(window);\r\napp.$html = $('html');\r\napp.$body = $('body');\r\napp.$ = $;\r\n","var app = app || {};\r\napp.utils = app.utils || {};\r\n","var app = app || {};\r\napp.utils = app.utils || {};\r\n\r\napp.utils.animateBody = function(top) {\r\n    app.$('html,body').animate({scrollTop: top}, 300);\r\n};\r\n\r\nwindow.requestAnimFrame = (function () {\r\n    return window.requestAnimationFrame ||\r\n        window.webkitRequestAnimationFrame ||\r\n        window.mozRequestAnimationFrame ||\r\n        function (callback) {\r\n            window.setTimeout(callback, 1000 / 60);\r\n        };\r\n})();\r\n","app.utils.initBlockMobileScroll = function() {\r\n    $(document).on('touchmove',function(e){\r\n        if($('body').hasClass('is_block-scrolling')) {\r\n            e.preventDefault();\r\n        }\r\n    });\r\n    $('body').on('touchstart', '.mobile-scroll', function(e) {\r\n        if (e.currentTarget.scrollTop === 0) {\r\n            e.currentTarget.scrollTop = 1;\r\n        } else if (e.currentTarget.scrollHeight === e.currentTarget.scrollTop + e.currentTarget.offsetHeight) {\r\n            e.currentTarget.scrollTop -= 1;\r\n        }\r\n    });\r\n    $('body').on('touchmove', '.mobile-scroll', function(e) {\r\n        if($(this)[0].scrollHeight > $(this).innerHeight()) {\r\n            e.stopPropagation();\r\n        }\r\n    });\r\n};","(function ($) {\r\n    \r\n    jQuery.fn.extend({\r\n        addClassDelayed: function (className, delay) {\r\n            var $el = app.$(this);\r\n            delay = delay || 30;\r\n            setTimeout(function () {\r\n                $el.addClass(className);\r\n            }, delay);\r\n        },\r\n        removeClassDelayed: function (className, delay) {\r\n            var $el = app.$(this);\r\n            delay = delay || 30;\r\n            setTimeout(function () {\r\n                $el.removeClass(className);\r\n            }, delay);\r\n        }\r\n    });\r\n\r\n})(jQuery);","var app = app || {};\r\napp.utils = app.utils || {};\r\n\r\napp.utils.detectMobile = {\r\n    Windows: function () {\r\n        return /IEMobile/i.test(navigator.userAgent);\r\n    },\r\n    Android: function () {\r\n        return /Android/i.test(navigator.userAgent);\r\n    },\r\n    BlackBerry: function () {\r\n        return /BlackBerry/i.test(navigator.userAgent);\r\n    },\r\n    iOS: function () {\r\n        return /iPhone|iPad|iPod/i.test(navigator.userAgent);\r\n    },\r\n    any: function () {\r\n        return (app.utils.detectMobile.Android() || app.utils.detectMobile.BlackBerry() || app.utils.detectMobile.iOS() || app.utils.detectMobile.Windows());\r\n    }\r\n};\r\n\r\n(function(){\r\n    if(app.utils.detectMobile.Android()) {\r\n        app.$html.addClass('is_android');\r\n    }\r\n    if(app.utils.detectMobile.iOS()) {\r\n        app.$html.addClass('is_ios');\r\n    }\r\n    if(app.utils.detectMobile.any()) {\r\n        app.$html.addClass('is_mobile');\r\n    }\r\n})();","var app = app || {};\r\napp.utils = app.utils || {};\r\n\r\napp.utils.serverErrorText = 'Ошибка доступа к серверу, попробуйте позже';\r\napp.utils.serverError = function () {\r\n    alert(app.utils.serverErrorText);\r\n};\r\n","var app = app || {};\r\napp.utils = app.utils || {};\r\n\r\napp.utils.event = function (category, action, label, value) {\r\n    if (typeof ga == 'function') {\r\n        if (typeof action == 'undefined') {\r\n            action = 'event';\r\n        }\r\n        else {\r\n            action = action.toString();\r\n        }\r\n\r\n        ga('send', 'event', category, action, label, value);\r\n    }\r\n};\r\n\r\n(function ($) {\r\n    jQuery.fn.extend({\r\n        clickEvent: function (category, action, label, value) {\r\n            app.$(this).click(function () {\r\n                app.utils.event(category, action, label, value);\r\n            });\r\n        }\r\n    });\r\n})(jQuery);","var app = app || {};\r\napp.utils = app.utils || {};\r\n\r\napp.utils.getParameter = function (name) {\r\n    name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\r\n    var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\"),\r\n        results = regex.exec(location.search);\r\n    return results === null ? null : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\r\n};\r\n","(function ($) {\r\n\r\n    function onTouchStartHandler() {\r\n        app.config.isTap = true;\r\n        app.$document.off('touchstart', onTouchStartHandler);\r\n        app.$document.off('MSPointerDown', onTouchStartHandler);\r\n    }\r\n\r\n    app.$document.on('touchstart', onTouchStartHandler);\r\n    app.$document.on('MSPointerDown', onTouchStartHandler);\r\n\r\n    jQuery.fn.extend({\r\n        clicktouch: function (func) {\r\n\r\n            $(this).css('-webkit-tap-highlight-color', 'rgba(0,0,0,0)');\r\n\r\n            $(this).on(\"touchstart MSPointerDown\", function (e) {\r\n\r\n                var newfunc = $.proxy(func, this);\r\n                newfunc(e);\r\n\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            });\r\n\r\n            $(this).on(\"touchmove MSPointerMove\", function (e) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            });\r\n\r\n            $(this).on(\"click\", function (e) {\r\n                if (app.config.isTap) {\r\n                    e.preventDefault();\r\n                    return false;\r\n                }\r\n                var newfunc = $.proxy(func, this);\r\n                newfunc(e);\r\n            });\r\n        }\r\n    });\r\n})(jQuery);","(function ($) {\r\n    jQuery.fn.extend({\r\n        swipe: function (leftHandler, rightHandler) {\r\n            var xDown, yDown, swiped;\r\n\r\n            this\r\n                .on('touchstart', function (e) {\r\n                    xDown = e.originalEvent.touches[0].clientX;\r\n                    yDown = e.originalEvent.touches[0].clientY;\r\n                    swiped = false;\r\n                })\r\n                .on('touchmove', function (e) {\r\n                    if (!xDown || !yDown) return;\r\n\r\n                    var xUp = e.originalEvent.changedTouches[0].clientX;\r\n                    var yUp = e.originalEvent.changedTouches[0].clientY;\r\n\r\n                    var xDiff = xDown - xUp;\r\n                    var yDiff = yDown - yUp;\r\n                    var horizontal = Math.abs(xDiff) > 10 && Math.abs(xDiff) > Math.abs(yDiff);\r\n\r\n                    if (horizontal && !swiped) {\r\n                        var newfunc;\r\n                        if (xDiff > 0) {\r\n                            newfunc = app.$.proxy(rightHandler, this);\r\n                        } else {\r\n                            newfunc = app.$.proxy(leftHandler, this);\r\n                        }\r\n\r\n                        newfunc(e);\r\n                        swiped = true;\r\n                    }\r\n\r\n                    if (swiped) {\r\n                        e.preventDefault();\r\n                    }\r\n                })\r\n                .on('touchend touchcancel', function (e) {\r\n                    xDown = null;\r\n                    yDown = null;\r\n                });\r\n        }\r\n    });\r\n})(jQuery);\r\n","var app = app || {};\r\napp.utils = app.utils || {};\r\n\r\napp.utils.declineNumeral = function (number, titles) {\r\n    var cases = [2, 0, 1, 1, 1, 2];\r\n    return titles[(number % 100 > 4 && number % 100 < 20) ? 2 : cases[(number % 10 < 5) ? number % 10 : 5]];\r\n};\r\n\r\nNumber.prototype.mod = function (n) {\r\n    return ((this % n) + n) % n;\r\n};\r\n\r\napp.utils.leadingZeros = function (num, size) {\r\n    size = typeof size !== 'undefined' ? size : 2;\r\n\r\n    var s = num + \"\";\r\n    while (s.length < size) s = \"0\" + s;\r\n    return s;\r\n};\r\n\r\napp.utils.linear = function (min, max, k) {\r\n    return (max - min) * k + min;\r\n};\r\n\r\napp.utils.formatNumber = function (val, thSep, dcSep) {\r\n    // Проверка указания разделителя разрядов\r\n    if (!thSep)\r\n        thSep = ' ';\r\n\r\n    // Проверка указания десятичного разделителя\r\n    if (!dcSep)\r\n        dcSep = ',';\r\n\r\n    var res = val.toString();\r\n    var lZero = (val < 0); // Признак отрицательного числа\r\n\r\n    // Определение длины форматируемой части\r\n    var fLen = res.lastIndexOf('.'); // До десятичной точки\r\n    fLen = (fLen > -1) ? fLen : res.length;\r\n\r\n    // Выделение временного буфера\r\n    var tmpRes = res.substring(fLen);\r\n    var cnt = -1;\r\n    for (var ind = fLen; ind > 0; ind--) {\r\n        // Формируем временный буфер\r\n        cnt++;\r\n        if (((cnt % 3) === 0) && (ind !== fLen) && (!lZero || (ind > 1))) {\r\n            tmpRes = thSep + tmpRes;\r\n        }\r\n        tmpRes = res.charAt(ind - 1) + tmpRes;\r\n    }\r\n\r\n    return tmpRes.replace('.', dcSep);\r\n};\r\n\r\napp.utils.bezier = function (x1, y1, x2, y2, epsilon) {\r\n\r\n    var curveX = function (t) {\r\n        var v = 1 - t;\r\n        return 3 * v * v * t * x1 + 3 * v * t * t * x2 + t * t * t;\r\n    };\r\n\r\n    var curveY = function (t) {\r\n        var v = 1 - t;\r\n        return 3 * v * v * t * y1 + 3 * v * t * t * y2 + t * t * t;\r\n    };\r\n\r\n    var derivativeCurveX = function (t) {\r\n        var v = 1 - t;\r\n        return 3 * (2 * (t - 1) * t + v * v) * x1 + 3 * (-t * t * t + 2 * v * t) * x2;\r\n    };\r\n\r\n    return function (t) {\r\n\r\n        var x = t, t0, t1, t2, x2, d2, i;\r\n\r\n        // First try a few iterations of Newton's method -- normally very fast.\r\n        for (t2 = x, i = 0; i < 8; i++) {\r\n            x2 = curveX(t2) - x;\r\n            if (Math.abs(x2) < epsilon) return curveY(t2);\r\n            d2 = derivativeCurveX(t2);\r\n            if (Math.abs(d2) < 1e-6) break;\r\n            t2 = t2 - x2 / d2;\r\n        }\r\n\r\n        t0 = 0, t1 = 1, t2 = x;\r\n\r\n        if (t2 < t0) return curveY(t0);\r\n        if (t2 > t1) return curveY(t1);\r\n\r\n        // Fallback to the bisection method for reliability.\r\n        while (t0 < t1) {\r\n            x2 = curveX(t2);\r\n            if (Math.abs(x2 - x) < epsilon) return curveY(t2);\r\n            if (x > x2) t0 = t2;\r\n            else t1 = t2;\r\n            t2 = (t1 - t0) * .5 + t0;\r\n        }\r\n\r\n        // Failure\r\n        return curveY(t2);\r\n\r\n    };\r\n\r\n};","var app = app || {};\r\napp.utils = app.utils || {};\r\n\r\n\r\napp.utils.preload = function (arrayOfImages, callback) {\r\n    var images = [];\r\n    var i = 0;\r\n    _.each(arrayOfImages, function (url) {\r\n        var image = new Image;\r\n        images.push(image);\r\n        image.onload = function () {\r\n            i++;\r\n            if (callback) {\r\n                callback(i / arrayOfImages.length);\r\n            }\r\n        };\r\n        image.src = url;\r\n    });\r\n    return images;\r\n};","app.utils.isMobile = function () {\r\n    return app.$window.width() <= 960;\r\n};","var app = app || {};\r\napp.utils = app.utils || {};\r\n\r\napp.utils.getScrollbarWidth = function () {\r\n    var scrollDiv = document.createElement(\"div\");\r\n    scrollDiv.className = \"scrollbar-measure\";\r\n    document.body.appendChild(scrollDiv);\r\n    var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\r\n    document.body.removeChild(scrollDiv);\r\n    return scrollbarWidth;\r\n};","var app = app || {};\r\napp.utils = app.utils || {};\r\n\r\napp.utils.share = function (service, url, title) {\r\n    var link = \"http://share.yandex.ru/go.xml?\" +\r\n        \"service=\" + service +\r\n        \"&url=\" + encodeURIComponent(url) +\r\n        \"&title=\" + encodeURIComponent(title);\r\n    app.utils.openPopup(link);\r\n};\r\n\r\napp.utils.openPopup = function (url) {\r\n    var width = 800, height = 500;\r\n    var left = (window.screen.width - width) / 2;\r\n    var top = (window.screen.height - height) / 2;\r\n    var win = window.open(url, \"vote\", \"height=\" + height + \",width=\" + width + \",top=\" + top + \",left=\" + left);\r\n    win.focus();\r\n};","var app = app || {};\r\napp.utils = app.utils || {};\r\n\r\napp.utils.setCoords = function (target, x, y) {\r\n    app.utils.setTransform(target, 'translate(' + x + 'px, ' + y + 'px)');\r\n};\r\n\r\napp.utils.setScale = function (target, scale) {\r\n    app.utils.setTransform(target, 'scale(' + scale + ')');\r\n};\r\n\r\napp.utils.setTransform = function (target, transform) {\r\n    target.css('-webkit-transform', transform);\r\n    target.css('-ms-transform', transform);\r\n    target.css('transform', transform);\r\n};\r\n\r\n(function ($) {\r\n    jQuery.fn.extend({\r\n        transform: function (transform) {\r\n            app.utils.setTransform($(this), transform);\r\n        }\r\n    });\r\n\r\n    jQuery.fn.extend({\r\n        setScale: function (scale) {\r\n            app.$(this).css('font-size', scale + 'em');\r\n        },\r\n\r\n        removeScale: function () {\r\n            app.$(this).css('font-size', '');\r\n        }\r\n    });\r\n\r\n})(jQuery);","var app = app || {};\r\napp.utils = app.utils || {};\r\n\r\napp.utils.isValidEmail = function(email) {\r\n  var re = /^[a-zA-Z0-9](\\.?[a-zA-Z0-9_-]){0,}@[a-zA-Z0-9-]+\\.([a-zA-Z]{1,6}\\.)?[a-zA-Z]{2,6}$/g;\r\n  return re.test(email);\r\n};\r\n\r\napp.utils.isValidName = function(name) {\r\n    var re = /^[а-яёА-ЯЁ]*$/g;\r\n    return re.test(name);\r\n};\r\n\r\napp.utils.isValidPhone = function(phone){\r\n    var re = /^\\+[7]\\s\\([0-9]{3}\\)\\s[0-9]{3}\\-[0-9]{2}\\-[0-9]{2}/g;\r\n    return re.test(phone);\r\n};","var app = app || {};\r\n\r\napp.PopUp = function() {\r\n    this.initialize();\r\n};\r\n\r\napp.PopUp.prototype = {\r\n    initialize: function() {\r\n        this.$items = $('.stories__announce');\r\n        this.$popup = $('.popup')\r\n        this.$close = $('.popup__close');\r\n\r\n\r\n        this.$items.click(_.bind(this.storyClick, this))\r\n        this.$close.click(_.bind(this.closeClick, this))\r\n    },\r\n\r\n\r\n    storyClick: function(){\r\n        this.$popup.addClass(\"popup_isActive\");\r\n    },\r\n\r\n    closeClick: function(){\r\n        this.$popup.removeClass(\"popup_isActive\");\r\n    }\r\n};","var app = app || {};\r\n\r\napp.SlotAvtomat = function() {\r\n    this.initialize();\r\n};\r\n\r\napp.SlotAvtomat.prototype = {\r\n\r\n    initialize: function() {\r\n\r\n        this.$grip = $(\"div.avtomat__grip\");\r\n        this.$bulbs = $(\"div.bulb\");\r\n        this.$message = $(\"div.message\");\r\n        //this.$slots = $(\".avtomat__slot\");\r\n        this.isBlinking = false;\r\n\r\n        //this.images = [\"apple\", \"bell\", \"seven\"];\r\n\r\n        this.solotsController = new app.SlotsController();\r\n\r\n        this.$grip.click(_.bind(this.clickGrip, this));\r\n\r\n    },\r\n\r\n    clickGrip: function(){\r\n\r\n        //анимация ручки\r\n        this.isBlinking = true;\r\n        this.$message.html(\"Вам точно повезет!\");\r\n        this.blinkingLights();\r\n        this.solotsController.runSlots();\r\n\r\n        var that =this;\r\n        setTimeout(function(){\r\n            that.isBlinking = false;\r\n            that.solotsController.stopSlots();\r\n            that.checkResult();\r\n        }, 15000)\r\n\r\n    },\r\n\r\n    blinkingLights:function () {\r\n        if(this.isBlinking){\r\n            _.each(this.$bulbs,function(bulb, i){\r\n                $(bulb).addClassDelayed(\"bulb_on\",i*200);\r\n                $(bulb).removeClassDelayed(\"bulb_on\",i*200+500);\r\n            }, this);\r\n\r\n            var that = this;\r\n            setTimeout(function(){\r\n                that.blinkingLights()\r\n            },1000)\r\n        }\r\n    },\r\n\r\n    checkResult: function(){\r\n        var isWin = this.solotsController.isWin();\r\n\r\n        while(isWin===-1){\r\n            var that = this;\r\n            setInterval(function () {\r\n                isWin =  that.solotsController.isWin();\r\n            });\r\n        }\r\n\r\n        if(isWin){\r\n            this.$message.html(\"\");\r\n            this.$message.append('<img src=\"assets/images/avtomat/win.png\">' )\r\n        }\r\n    }\r\n\r\n};","var app = app || {};\r\n\r\napp.SlotsController = function() {\r\n    this.initialize();\r\n};\r\n\r\napp.SlotsController.prototype = {\r\n    initialize: function() {\r\n        this.slotArray=[];\r\n        this.$slots = $(\".avtomat__slot\");\r\n        this.images = [\"apple\", \"bell\", \"seven\"];\r\n        this.isRun = false;\r\n\r\n        this.initSlots();\r\n    },\r\n\r\n    initSlots: function(){\r\n\r\n        var template = $('#image-slot-template').html();\r\n\r\n        if(typeof template === 'undefined'){\r\n            console.log('template not found');\r\n            return;\r\n        }\r\n\r\n        this.template = _.template(template);\r\n\r\n        _.each(this.$slots, function(slot){\r\n\r\n            this.addElementInSlot($(slot));\r\n\r\n            var slotItem= {\r\n                $slot: $(slot),\r\n                $next:  $(slot).find(':first-child'),\r\n                $active: $(slot).find(\":nth-child(2)\"),\r\n                $last: $(slot).find(':last-child'),\r\n                type: '',\r\n                run: false\r\n            };\r\n\r\n            slotItem.$active.addClass(\"active\");\r\n            slotItem.$last.addClass(\"last\");\r\n            slotItem.$next.addClass(\"next\");\r\n\r\n            this.slotArray.push(slotItem);\r\n\r\n        }, this)\r\n    },\r\n\r\n    runSlots: function(){\r\n        this.isRun=true;\r\n       // this.playSlots()\r\n        var that =this;\r\n        _.each(that.slotArray, function(slot){\r\n            slot.run= true;\r\n            that.playSlots(slot);//запускааем 1 барабан на заданное время\r\n            setTimeout(function(){\r\n                slot.run= false;\r\n            }, that.randomtime(true))\r\n        });\r\n    },\r\n\r\n    playSlots: function(slot){\r\n\r\n        if(slot.run){\r\n            var that = this;\r\n            setTimeout(function(){\r\n                that.slotSlick(slot)\r\n            },that.randomtime());\r\n\r\n            setTimeout(function(){\r\n                that.playSlots(slot)\r\n            },500)\r\n        }\r\n\r\n    },\r\n\r\n   /* playSlots: function(slot, time){\r\n\r\n        if(this.isRun){\r\n            var that = this;\r\n            _.each(that.slotArray, function(slot){\r\n                setTimeout(function(){\r\n                    that.slotSlick(slot)\r\n                },that.randomtime() )\r\n            });\r\n\r\n            setTimeout(function(){\r\n                that.playSlots()\r\n            },500)\r\n        }else{\r\n            _.each(this.slotArray, function(slot){\r\n                this.checkClass(slot)\r\n            }, this);\r\n        }\r\n    },*/\r\n\r\n\r\n/*    slotSlick: function(elem){\r\n        elem.$active.addClass(\"transform\");\r\n        elem.$active.removeClassDelayed('active', 200);\r\n        elem.$active.removeClassDelayed('transform', 200);\r\n\r\n        elem.$next.removeClassDelayed('next', 50);\r\n\r\n        //elem.$last.removeClassDelayed('last', 200);\r\n\r\n        var last =  elem.$last.clone();\r\n        $(last).removeClass('last');\r\n        elem.$slot.prepend(last);\r\n        elem.$slot.find(':last-child').remove();\r\n\r\n        var that = this;\r\n\r\n    },*/\r\n\r\n    slotSlick: function(elem){\r\n        elem.$active.addClass(\"transform\");\r\n        elem.$next.removeClass(\"next\");\r\n\r\n        var last =  elem.$last.clone();\r\n        $(last).removeClass('last');\r\n        $(last).addClass('next');\r\n        elem.$slot.prepend(last);\r\n        elem.$slot.find(':last-child').remove();\r\n\r\n        var that = this;\r\n        setTimeout(function(){\r\n            that.overridingSlotElements(elem);\r\n        }, 200)\r\n\r\n\r\n\r\n    },\r\n\r\n    stopSlots: function(){\r\n        this.isRun = false;\r\n        _.each(this.slotArray, function(slot){\r\n            this.checkClass(slot)\r\n        }, this);\r\n    },\r\n\r\n    randomtime: function(flag) {\r\n        var min = 100, max = 1000;\r\n        if (flag === true)  min = 1000; max = 15000;\r\n\r\n        var rand = min - 0.5 + Math.random() * (max - min + 1);\r\n        rand = Math.round(rand);\r\n        return rand;\r\n    },\r\n\r\n    overridingSlotElements: function(elem){\r\n        this.checkClass(elem);\r\n        \r\n        elem.$next =  elem.$slot.find(':first-child');\r\n        elem.$active =  elem.$slot.find(\":nth-child(2)\");\r\n        elem.$last =  elem.$slot.find(':last-child');\r\n\r\n        elem.$active.addClass(\"active\");\r\n        elem.$last.addClass(\"last\");\r\n        elem.$next.addClass(\"next\");\r\n\r\n        elem.type =  elem.$active.data('type');\r\n\r\n        //this.checkClass(elem);\r\n    },\r\n\r\n    checkClass: function(slot){\r\n        slot.$last.removeClass('transform');\r\n        slot.$last.removeClass('active');\r\n        slot.$last.removeClass('prev');\r\n\r\n        slot.$next.removeClass('transform');\r\n        slot.$next.removeClass('active');\r\n        slot.$next.removeClass('last');\r\n\r\n        slot.$active.removeClass('transform');\r\n        slot.$active.removeClass('next');\r\n        slot.$active.removeClass('last');\r\n    },\r\n\r\n    addElementInSlot: function ($slot) {\r\n        _.each(this.images, function(image){\r\n            var item = {\r\n                imageName: image\r\n            };\r\n            $slot.append(this.template(item));\r\n        }, this);\r\n    },\r\n\r\n    isWin: function(){\r\n        if(_.filter(this.slotArray, {run: false}).length===3){\r\n            var typeImage = this.slotArray[0].type;\r\n            var isWin=1;\r\n\r\n            _.each(this.slotArray, function(slot){\r\n                if (slot.type !== typeImage)\r\n                    isWin = 0;\r\n            }, this);\r\n\r\n            return isWin;\r\n        }else{\r\n            return -1\r\n        }\r\n\r\n    }\r\n\r\n};","var app = app || {};\r\n\r\napp.SwitchButton = function() {\r\n    this.initialize();\r\n};\r\n\r\napp.SwitchButton.prototype = {\r\n    initialize: function() {\r\n\r\n\r\n    }\r\n};","(function() {\r\n  'use strict';\r\n\r\n    var $switchButton = $('.header__switch-button');\r\n    var $info=$('.info');\r\n    var $headerLogo=$('.header__logo');\r\n    var $headerBtn=$('.header__switch-button');\r\n\r\n    $switchButton.click(function(){\r\n        $(this).html(\"info\");\r\n        if( $info.hasClass('info_show')){\r\n            $(this).html(\"info\");\r\n\r\n        }\r\n        else{\r\n\r\n\r\n            $(this).html(\"story\");\r\n        }\r\n\r\n        $info.toggleClass('info_show');\r\n    });\r\n\r\n    var $announce=$('.stories__announce');\r\n\r\n    new app.SlotAvtomat();\r\n\r\n})();\r\n"]}