!function(){for(var t,n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],e=n.length,i=window.console=window.console||{};e--;)i[t=n[e]]||(i[t]=function(){})}();var app=app||{};app.config={},app.state={},app.$document=$(document),app.$window=$(window),app.$html=$("html"),app.$body=$("body"),app.$=$,(app=app||{}).utils=app.utils||{},(app=app||{}).utils=app.utils||{},app.utils.animateBody=function(t){app.$("html,body").animate({scrollTop:t},300)},window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},app.utils.initBlockMobileScroll=function(){$(document).on("touchmove",function(t){$("body").hasClass("is_block-scrolling")&&t.preventDefault()}),$("body").on("touchstart",".mobile-scroll",function(t){0===t.currentTarget.scrollTop?t.currentTarget.scrollTop=1:t.currentTarget.scrollHeight===t.currentTarget.scrollTop+t.currentTarget.offsetHeight&&(t.currentTarget.scrollTop-=1)}),$("body").on("touchmove",".mobile-scroll",function(t){$(this)[0].scrollHeight>$(this).innerHeight()&&t.stopPropagation()})},jQuery,jQuery.fn.extend({addClassDelayed:function(t,n){var e=app.$(this);n=n||30,setTimeout(function(){e.addClass(t)},n)},removeClassDelayed:function(t,n){var e=app.$(this);n=n||30,setTimeout(function(){e.removeClass(t)},n)}}),(app=app||{}).utils=app.utils||{},app.utils.detectMobile={Windows:function(){return/IEMobile/i.test(navigator.userAgent)},Android:function(){return/Android/i.test(navigator.userAgent)},BlackBerry:function(){return/BlackBerry/i.test(navigator.userAgent)},iOS:function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},any:function(){return app.utils.detectMobile.Android()||app.utils.detectMobile.BlackBerry()||app.utils.detectMobile.iOS()||app.utils.detectMobile.Windows()}},app.utils.detectMobile.Android()&&app.$html.addClass("is_android"),app.utils.detectMobile.iOS()&&app.$html.addClass("is_ios"),app.utils.detectMobile.any()&&app.$html.addClass("is_mobile"),(app=app||{}).utils=app.utils||{},app.utils.serverErrorText="Ошибка доступа к серверу, попробуйте позже",app.utils.serverError=function(){alert(app.utils.serverErrorText)},(app=app||{}).utils=app.utils||{},app.utils.event=function(t,n,e,i){"function"==typeof ga&&(n=void 0===n?"event":n.toString(),ga("send","event",t,n,e,i))},jQuery,jQuery.fn.extend({clickEvent:function(t,n,e,i){app.$(this).click(function(){app.utils.event(t,n,e,i)})}}),(app=app||{}).utils=app.utils||{},app.utils.getParameter=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===n?null:decodeURIComponent(n[1].replace(/\+/g," "))},function(t){function n(){app.config.isTap=!0,app.$document.off("touchstart",n),app.$document.off("MSPointerDown",n)}app.$document.on("touchstart",n),app.$document.on("MSPointerDown",n),jQuery.fn.extend({clicktouch:function(n){t(this).css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),t(this).on("touchstart MSPointerDown",function(e){t.proxy(n,this)(e),e.preventDefault(),e.stopPropagation()}),t(this).on("touchmove MSPointerMove",function(t){t.preventDefault(),t.stopPropagation()}),t(this).on("click",function(e){if(app.config.isTap)return e.preventDefault(),!1;t.proxy(n,this)(e)})}})}(jQuery),jQuery,jQuery.fn.extend({swipe:function(t,n){var e,i,o;this.on("touchstart",function(t){e=t.originalEvent.touches[0].clientX,i=t.originalEvent.touches[0].clientY,o=!1}).on("touchmove",function(p){if(e&&i){var a=p.originalEvent.changedTouches[0].clientX,r=p.originalEvent.changedTouches[0].clientY,s=e-a,u=i-r;if(Math.abs(s)>10&&Math.abs(s)>Math.abs(u)&&!o){(s>0?app.$.proxy(n,this):app.$.proxy(t,this))(p),o=!0}o&&p.preventDefault()}}).on("touchend touchcancel",function(t){e=null,i=null})}}),(app=app||{}).utils=app.utils||{},app.utils.declineNumeral=function(t,n){var e=[2,0,1,1,1,2];return n[t%100>4&&t%100<20?2:e[t%10<5?t%10:5]]},Number.prototype.mod=function(t){return(this%t+t)%t},app.utils.leadingZeros=function(t,n){n=void 0!==n?n:2;for(var e=t+"";e.length<n;)e="0"+e;return e},app.utils.linear=function(t,n,e){return(n-t)*e+t},app.utils.formatNumber=function(t,n,e){n||(n=" "),e||(e=",");var i=t.toString(),o=t<0,p=i.lastIndexOf(".");p=p>-1?p:i.length;for(var a=i.substring(p),r=-1,s=p;s>0;s--)++r%3==0&&s!==p&&(!o||s>1)&&(a=n+a),a=i.charAt(s-1)+a;return a.replace(".",e)},app.utils.bezier=function(t,n,e,i,o){var p=function(n){var i=1-n;return 3*i*i*n*t+3*i*n*n*e+n*n*n},a=function(t){var e=1-t;return 3*e*e*t*n+3*e*t*t*i+t*t*t},r=function(n){var i=1-n;return 3*(2*(n-1)*n+i*i)*t+3*(-n*n*n+2*i*n)*e};return function(t){var n,e,i,s,u,l,c=t;for(i=c,l=0;l<8;l++){if(s=p(i)-c,Math.abs(s)<o)return a(i);if(u=r(i),Math.abs(u)<1e-6)break;i-=s/u}if(n=0,e=1,(i=c)<n)return a(n);if(i>e)return a(e);for(;n<e;){if(s=p(i),Math.abs(s-c)<o)return a(i);c>s?n=i:e=i,i=.5*(e-n)+n}return a(i)}},(app=app||{}).utils=app.utils||{},app.utils.preload=function(t,n){var e=[],i=0;return _.each(t,function(o){var p=new Image;e.push(p),p.onload=function(){i++,n&&n(i/t.length)},p.src=o}),e},app.utils.isMobile=function(){return app.$window.width()<=960},(app=app||{}).utils=app.utils||{},app.utils.getScrollbarWidth=function(){var t=document.createElement("div");t.className="scrollbar-measure",document.body.appendChild(t);var n=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),n},(app=app||{}).utils=app.utils||{},app.utils.share=function(t,n,e){var i="http://share.yandex.ru/go.xml?service="+t+"&url="+encodeURIComponent(n)+"&title="+encodeURIComponent(e);app.utils.openPopup(i)},app.utils.openPopup=function(t){var n=(window.screen.width-800)/2,e=(window.screen.height-500)/2;window.open(t,"vote","height=500,width=800,top="+e+",left="+n).focus()},(app=app||{}).utils=app.utils||{},app.utils.setCoords=function(t,n,e){app.utils.setTransform(t,"translate("+n+"px, "+e+"px)")},app.utils.setScale=function(t,n){app.utils.setTransform(t,"scale("+n+")")},app.utils.setTransform=function(t,n){t.css("-webkit-transform",n),t.css("-ms-transform",n),t.css("transform",n)},function(t){jQuery.fn.extend({transform:function(n){app.utils.setTransform(t(this),n)}}),jQuery.fn.extend({setScale:function(t){app.$(this).css("font-size",t+"em")},removeScale:function(){app.$(this).css("font-size","")}})}(jQuery),(app=app||{}).utils=app.utils||{},app.utils.isValidEmail=function(t){return/^[a-zA-Z0-9](\.?[a-zA-Z0-9_-]){0,}@[a-zA-Z0-9-]+\.([a-zA-Z]{1,6}\.)?[a-zA-Z]{2,6}$/g.test(t)},app.utils.isValidName=function(t){return/^[а-яёА-ЯЁ]*$/g.test(t)},app.utils.isValidPhone=function(t){return/^\+[7]\s\([0-9]{3}\)\s[0-9]{3}\-[0-9]{2}\-[0-9]{2}/g.test(t)},(app=app||{}).PopUp=function(){this.initialize()},app.PopUp.prototype={initialize:function(){this.$items=$(".stories__announce"),this.$popup=$(".popup"),this.$close=$(".popup__close"),this.$items.click(_.bind(this.storyClick,this)),this.$close.click(_.bind(this.closeClick,this))},storyClick:function(){this.$popup.addClass("popup_isActive")},closeClick:function(){this.$popup.removeClass("popup_isActive")}},(app=app||{}).SwitchButton=function(){this.initialize()},app.SwitchButton.prototype={initialize:function(){}},function(){"use strict";var t=$(".header__switch-button"),n=$(".info");$(".header__logo"),$(".header__switch-button");t.click(function(){$(this).html("info"),n.hasClass("info_show")?$(this).html("info"):$(this).html("story"),n.toggleClass("info_show")});$(".stories__announce");new app.PopUp}();
//# sourceMappingURL=app.min.js.map