!function(){for(var t,i=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],n=i.length,e=window.console=window.console||{};n--;)e[t=i[n]]||(e[t]=function(){})}();var app=app||{};app.config={},app.state={},app.$document=$(document),app.$window=$(window),app.$html=$("html"),app.$body=$("body"),app.$=$,(app=app||{}).utils=app.utils||{},(app=app||{}).utils=app.utils||{},app.utils.animateBody=function(t){app.$("html,body").animate({scrollTop:t},300)},window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},app.utils.initBlockMobileScroll=function(){$(document).on("touchmove",function(t){$("body").hasClass("is_block-scrolling")&&t.preventDefault()}),$("body").on("touchstart",".mobile-scroll",function(t){0===t.currentTarget.scrollTop?t.currentTarget.scrollTop=1:t.currentTarget.scrollHeight===t.currentTarget.scrollTop+t.currentTarget.offsetHeight&&(t.currentTarget.scrollTop-=1)}),$("body").on("touchmove",".mobile-scroll",function(t){$(this)[0].scrollHeight>$(this).innerHeight()&&t.stopPropagation()})},jQuery,jQuery.fn.extend({addClassDelayed:function(t,i){var n=app.$(this);i=i||30,setTimeout(function(){n.addClass(t)},i)},removeClassDelayed:function(t,i){var n=app.$(this);i=i||30,setTimeout(function(){n.removeClass(t)},i)}}),(app=app||{}).utils=app.utils||{},app.utils.detectMobile={Windows:function(){return/IEMobile/i.test(navigator.userAgent)},Android:function(){return/Android/i.test(navigator.userAgent)},BlackBerry:function(){return/BlackBerry/i.test(navigator.userAgent)},iOS:function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},any:function(){return app.utils.detectMobile.Android()||app.utils.detectMobile.BlackBerry()||app.utils.detectMobile.iOS()||app.utils.detectMobile.Windows()}},app.utils.detectMobile.Android()&&app.$html.addClass("is_android"),app.utils.detectMobile.iOS()&&app.$html.addClass("is_ios"),app.utils.detectMobile.any()&&app.$html.addClass("is_mobile"),(app=app||{}).utils=app.utils||{},app.utils.serverErrorText="Ошибка доступа к серверу, попробуйте позже",app.utils.serverError=function(){alert(app.utils.serverErrorText)},(app=app||{}).utils=app.utils||{},app.utils.event=function(t,i,n,e){"function"==typeof ga&&(i=void 0===i?"event":i.toString(),ga("send","event",t,i,n,e))},jQuery,jQuery.fn.extend({clickEvent:function(t,i,n,e){app.$(this).click(function(){app.utils.event(t,i,n,e)})}}),(app=app||{}).utils=app.utils||{},app.utils.getParameter=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===i?null:decodeURIComponent(i[1].replace(/\+/g," "))},function(t){function i(){app.config.isTap=!0,app.$document.off("touchstart",i),app.$document.off("MSPointerDown",i)}app.$document.on("touchstart",i),app.$document.on("MSPointerDown",i),jQuery.fn.extend({clicktouch:function(i){t(this).css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),t(this).on("touchstart MSPointerDown",function(n){t.proxy(i,this)(n),n.preventDefault(),n.stopPropagation()}),t(this).on("touchmove MSPointerMove",function(t){t.preventDefault(),t.stopPropagation()}),t(this).on("click",function(n){if(app.config.isTap)return n.preventDefault(),!1;t.proxy(i,this)(n)})}})}(jQuery),jQuery,jQuery.fn.extend({swipe:function(t,i){var n,e,o;this.on("touchstart",function(t){n=t.originalEvent.touches[0].clientX,e=t.originalEvent.touches[0].clientY,o=!1}).on("touchmove",function(a){if(n&&e){var p=a.originalEvent.changedTouches[0].clientX,s=a.originalEvent.changedTouches[0].clientY,r=n-p,u=e-s;if(Math.abs(r)>10&&Math.abs(r)>Math.abs(u)&&!o){(r>0?app.$.proxy(i,this):app.$.proxy(t,this))(a),o=!0}o&&a.preventDefault()}}).on("touchend touchcancel",function(t){n=null,e=null})}}),(app=app||{}).utils=app.utils||{},app.utils.declineNumeral=function(t,i){var n=[2,0,1,1,1,2];return i[t%100>4&&t%100<20?2:n[t%10<5?t%10:5]]},Number.prototype.mod=function(t){return(this%t+t)%t},app.utils.leadingZeros=function(t,i){i=void 0!==i?i:2;for(var n=t+"";n.length<i;)n="0"+n;return n},app.utils.linear=function(t,i,n){return(i-t)*n+t},app.utils.formatNumber=function(t,i,n){i||(i=" "),n||(n=",");var e=t.toString(),o=t<0,a=e.lastIndexOf(".");a=a>-1?a:e.length;for(var p=e.substring(a),s=-1,r=a;r>0;r--)++s%3==0&&r!==a&&(!o||r>1)&&(p=i+p),p=e.charAt(r-1)+p;return p.replace(".",n)},app.utils.bezier=function(t,i,n,e,o){var a=function(i){var e=1-i;return 3*e*e*i*t+3*e*i*i*n+i*i*i},p=function(t){var n=1-t;return 3*n*n*t*i+3*n*t*t*e+t*t*t},s=function(i){var e=1-i;return 3*(2*(i-1)*i+e*e)*t+3*(-i*i*i+2*e*i)*n};return function(t){var i,n,e,r,u,l,c=t;for(e=c,l=0;l<8;l++){if(r=a(e)-c,Math.abs(r)<o)return p(e);if(u=s(e),Math.abs(u)<1e-6)break;e-=r/u}if(i=0,n=1,(e=c)<i)return p(i);if(e>n)return p(n);for(;i<n;){if(r=a(e),Math.abs(r-c)<o)return p(e);c>r?i=e:n=e,e=.5*(n-i)+i}return p(e)}},(app=app||{}).utils=app.utils||{},app.utils.preload=function(t,i){var n=[],e=0;return _.each(t,function(o){var a=new Image;n.push(a),a.onload=function(){e++,i&&i(e/t.length)},a.src=o}),n},app.utils.isMobile=function(){return app.$window.width()<=960},(app=app||{}).utils=app.utils||{},app.utils.getScrollbarWidth=function(){var t=document.createElement("div");t.className="scrollbar-measure",document.body.appendChild(t);var i=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),i},(app=app||{}).utils=app.utils||{},app.utils.share=function(t,i,n){var e="http://share.yandex.ru/go.xml?service="+t+"&url="+encodeURIComponent(i)+"&title="+encodeURIComponent(n);app.utils.openPopup(e)},app.utils.openPopup=function(t){var i=(window.screen.width-800)/2,n=(window.screen.height-500)/2;window.open(t,"vote","height=500,width=800,top="+n+",left="+i).focus()},(app=app||{}).utils=app.utils||{},app.utils.setCoords=function(t,i,n){app.utils.setTransform(t,"translate("+i+"px, "+n+"px)")},app.utils.setScale=function(t,i){app.utils.setTransform(t,"scale("+i+")")},app.utils.setTransform=function(t,i){t.css("-webkit-transform",i),t.css("-ms-transform",i),t.css("transform",i)},function(t){jQuery.fn.extend({transform:function(i){app.utils.setTransform(t(this),i)}}),jQuery.fn.extend({setScale:function(t){app.$(this).css("font-size",t+"em")},removeScale:function(){app.$(this).css("font-size","")}})}(jQuery),(app=app||{}).utils=app.utils||{},app.utils.isValidEmail=function(t){return/^[a-zA-Z0-9](\.?[a-zA-Z0-9_-]){0,}@[a-zA-Z0-9-]+\.([a-zA-Z]{1,6}\.)?[a-zA-Z]{2,6}$/g.test(t)},app.utils.isValidName=function(t){return/^[а-яёА-ЯЁ]*$/g.test(t)},app.utils.isValidPhone=function(t){return/^\+[7]\s\([0-9]{3}\)\s[0-9]{3}\-[0-9]{2}\-[0-9]{2}/g.test(t)},(app=app||{}).PopUp=function(){this.initialize()},app.PopUp.prototype={initialize:function(){this.$items=$(".stories__announce"),this.$popup=$(".popup"),this.$close=$(".popup__close"),this.$items.click(_.bind(this.storyClick,this)),this.$close.click(_.bind(this.closeClick,this))},storyClick:function(){this.$popup.addClass("popup_isActive")},closeClick:function(){this.$popup.removeClass("popup_isActive")}},(app=app||{}).SlotAvtomat=function(){this.initialize()},app.SlotAvtomat.prototype={initialize:function(){this.$grip=$("div.avtomat__grip"),this.$bulbs=$("div.bulb"),this.$message=$("div.avtomat__message"),this.$slots=$(".avtomat_slot"),this.isBlinking=!1,this.$grip.click(_.bind(this.clickGrip,this))},clickGrip:function(){console.log(11),this.isBlinking=!0,this.blinkingLights(),setTimeout(function(){this.blinkingLightsStop()},6e4)},blinkingLights:function(){if(this.isBlinking){_.each(this.$bulbs,function(t,i){setTimeout(function(){$(t).removeClass("bulb_on")},200*i),$(t).addClass("bulb_on"),setTimeout(function(){$(t).removeClass("bulb_on")},300*i+200)},this);var t=this;setTimeout(function(){t.blinkingLights()},1e3)}},blinkingLightsStop:function(){this.isBlinking=!1}},(app=app||{}).SwitchButton=function(){this.initialize()},app.SwitchButton.prototype={initialize:function(){}},function(){"use strict";var t=$(".header__switch-button"),i=$(".info");$(".header__logo"),$(".header__switch-button");t.click(function(){$(this).html("info"),i.hasClass("info_show")?$(this).html("info"):$(this).html("story"),i.toggleClass("info_show")});$(".stories__announce");new app.SlotAvtomat}();
//# sourceMappingURL=app.min.js.map